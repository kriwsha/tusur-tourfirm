## Домашнее задание №4

-----------------------

#### Создание базы данных и схемы

[Скрипты создания базы и пользователей](../src/main/liquibase/updates/0_0/001_db_users.sql)

[Скрипты создания таблиц](../src/main/liquibase/updates/1_0/sql/20211118-U-1026.sql)

#### Создание ролей

| Роль | Обоснование |
|------|-------------|
|админ|администрирование базы|
|руководитель|заведение сотрудников, проверка статистики продаж|
|сотрудник|заведение/чтение клиентов, просмотр/редактирование туров|
|клиент|просмотр туров, создан как креденшал для доступа из бэка в бд|

[Скрипты выдачи прав](../src/main/liquibase/updates/0_0/002_grant.sql)

#### Полученная схема
![Схема базы данных](img/schema_2.JPG)

#### Изменения со временем и по обстоятельствам:

Изменения связаны со следующими обстоятельствами:

1. Ковид:
- Из-за ковида потребовалось добавить поле, отвечающее за ковидные ограничения;
- Создан справочник ковидных ограничений;
- Обновление прав на чтение таблицы ковида;
2. Рост фирмы:
- При росте турфирмы потребуется указывать начальника каждому сотруднику;
- ~~Начальник должен видеть только статистику своих подчиненных~~ (**будет реализовано на бэке)**;
- Добавление справочника с филиалами;

[Скрипты обновления таблиц](../src/main/liquibase/updates/1_0/sql/20211223-U-1600.sql)

#### Обновленная схема
![Схема базы данных](img/schema_3.JPG)